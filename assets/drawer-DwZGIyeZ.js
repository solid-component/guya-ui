import{m as g,b as C,t as I,c as s,_ as $,i as E,a as V,d as H,l as O,n as L,p as B,r as f,v as q,w as U,y as w,z as M,A as X,B as j,D as z,E as G,F as K,G as N,k as W,H as y,I as Y,J,g as T,M as A}from"./index-DBPcm_A9.js";import{l as x}from"./index-CZ6wXKgu.js";import{i as Q}from"./contain-DHCqo6CO.js";import{b as Z}from"./index-DR1t-lh7.js";import{v as ee,t as te,d as ne}from"./index-CqrWMfV-.js";import{C as S}from"./component-preview-1z9wgwgw.js";function ie(e){const t=g({width:"378px",height:"378px"},e),n=()=>["top","left"].includes(t.placement)?-1:1,i=()=>["top","bottom"].includes(t.placement),a=()=>i()?`translateY(${n()*100}%)`:`translateX(${n()*100}%)`,l=()=>C({position:"absolute",width:i()?"100%":t.width,background:"#fff",height:i()?t.height:"100%",top:i()?void 0:0,"pointer-events":"auto","box-shadow":i()?"0px 16px 48px 16px rgba(0, 0, 0, .08), 0px 12px 32px rgba(0, 0, 0, .12), 0px 8px 16px -8px rgba(0, 0, 0, .16)":"-6px 0 16px 0 rgba(0, 0, 0, 0.08), -3px 0 6px -4px rgba(0, 0, 0, 0.12), -9px 0 28px 8px rgba(0, 0, 0, 0.05)",[t.placement]:0}),d=C({transition:"all .3s"}),p=()=>C({opacity:0,transform:a()}),u=()=>C({opacity:1,transform:i()?"translateY(0)":"translateX(0)"});return console.log("enterClass",p()),{panelCss:l,panelTransition:()=>({enterActiveClass:d,enterClass:p(),enterToClass:u(),exitActiveClass:d,exitClass:u(),exitToClass:p()})}}var ae=I("<div>H");const oe=()=>ae();var re=I("<div>");const F=e=>{const t=g({appendToBody:!0,placement:"right",closable:!0,maskClosable:!0},e),n=ie(t);let i;return s(Q,g(t,{get popup(){return s($,g({onClick:a=>{var l;i&&!(a.target===i||i.contains(a.target))&&t.maskClosable&&((l=e.onClose)==null||l.call(e,a))}},t,{get classList(){return{[`happy-drawer-${t.placement}`]:!0}},get panelTransition(){return n.panelTransition},get children(){var a=re(),l=i;return typeof l=="function"?O(l,a):i=a,E(a,s(oe,{}),null),E(a,()=>e.children,null),V(()=>H(a,`${n.panelCss()||""} happy-drawer`)),a}}))}}))};var R,m=new Map,le=e=>e.getBoundingClientRect();function de(e,t){const{scope:n="rect",getRect:i=le,onChange:a}=t,l=se({scope:n,getRect:i}),d=m.get(e);return d?(d.callbacks.push(a),a(i(e))):(m.set(e,{rect:{},callbacks:[a]}),m.size===1&&(R=requestAnimationFrame(l))),function(){const u=m.get(e);if(!u)return;const h=u.callbacks.indexOf(a);h>-1&&u.callbacks.splice(h,1),u.callbacks.length===0&&(m.delete(e),m.size===0&&cancelAnimationFrame(R))}}function se(e){const{scope:t,getRect:n}=e,i=ue(t);return function a(){const l=[];m.forEach((d,p)=>{const u=n(p);i(d.rect,u)||(d.rect=u,l.push(d))}),l.forEach(d=>{d.callbacks.forEach(p=>p(d.rect))}),R=requestAnimationFrame(a)}}var P=(e,t)=>e.width===t.width&&e.height===t.height,_=(e,t)=>e.top===t.top&&e.left===t.left,ce=(e,t)=>P(e,t)&&_(e,t);function ue(e){return e==="size"?P:e==="position"?_:ce}var pe=L("radio-group").parts("root","label","item","itemText","itemControl","indicator"),b=pe.build(),o=B({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`radio-group:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`radio-group:${e.id}:label`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`radio-group:${e.id}:radio:${t}`},getItemHiddenInputId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemHiddenInput)==null?void 0:i.call(n,t))??`radio-group:${e.id}:radio:input:${t}`},getItemControlId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemControl)==null?void 0:i.call(n,t))??`radio-group:${e.id}:radio:control:${t}`},getItemLabelId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemLabel)==null?void 0:i.call(n,t))??`radio-group:${e.id}:radio:label:${t}`},getIndicatorId:e=>{var t;return((t=e.ids)==null?void 0:t.indicator)??`radio-group:${e.id}:indicator`},getRootEl:e=>o.getById(e,o.getRootId(e)),getItemHiddenInputEl:(e,t)=>o.getById(e,o.getItemHiddenInputId(e,t)),getIndicatorEl:e=>o.getById(e,o.getIndicatorId(e)),getFirstEnabledInputEl:e=>{var t;return(t=o.getRootEl(e))==null?void 0:t.querySelector("input:not(:disabled)")},getFirstEnabledAndCheckedInputEl:e=>{var t;return(t=o.getRootEl(e))==null?void 0:t.querySelector("input:not(:disabled):checked")},getInputEls:e=>{const n=`input[type=radio][data-ownedby='${CSS.escape(o.getRootId(e))}']:not([disabled])`;return M(o.getRootEl(e),n)},getActiveRadioEl:e=>{if(e.value)return o.getById(e,o.getItemId(e,e.value))},getOffsetRect:e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),getRectById:(e,t)=>{const n=o.getById(e,o.getItemId(e,t));if(n)return o.resolveRect(o.getOffsetRect(n))},resolveRect:e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`})});function ge(e,t,n){var p,u,h,k;const i=e.context.isDisabled;function a(r){return{isInvalid:!!r.invalid,isDisabled:!!r.disabled||i,isChecked:e.context.value===r.value,isFocused:e.context.focusedId===r.value,isHovered:e.context.hoveredId===r.value,isActive:e.context.activeId===r.value}}function l(r){const c=a(r);return{"data-focus":f(c.isFocused),"data-disabled":f(c.isDisabled),"data-state":c.isChecked?"checked":"unchecked","data-hover":f(c.isHovered),"data-invalid":f(c.isInvalid),"data-orientation":e.context.orientation}}const d=()=>{const r=o.getFirstEnabledAndCheckedInputEl(e.context);if(r){r.focus();return}const c=o.getFirstEnabledInputEl(e.context);c==null||c.focus()};return{focus:d,value:e.context.value,setValue(r){t({type:"SET_VALUE",value:r,isTrusted:!1})},clearValue(){t({type:"SET_VALUE",value:null,isTrusted:!1})},getItemState:a,rootProps:n.element({...b.root.attrs,role:"radiogroup",id:o.getRootId(e.context),"aria-labelledby":o.getLabelId(e.context),"data-orientation":e.context.orientation,"data-disabled":f(i),"aria-orientation":e.context.orientation,dir:e.context.dir,style:{position:"relative"}}),labelProps:n.element({...b.label.attrs,dir:e.context.dir,"data-orientation":e.context.orientation,"data-disabled":f(i),id:o.getLabelId(e.context),onClick:d}),getItemProps(r){const c=a(r);return n.label({...b.item.attrs,dir:e.context.dir,id:o.getItemId(e.context,r.value),htmlFor:o.getItemHiddenInputId(e.context,r.value),...l(r),onPointerMove(){c.isDisabled||t({type:"SET_HOVERED",value:r.value,hovered:!0})},onPointerLeave(){c.isDisabled||t({type:"SET_HOVERED",value:null})},onPointerDown(v){c.isDisabled||(c.isFocused&&v.pointerType==="mouse"&&v.preventDefault(),t({type:"SET_ACTIVE",value:r.value,active:!0}))},onPointerUp(){c.isDisabled||t({type:"SET_ACTIVE",value:null})}})},getItemTextProps(r){return n.element({...b.itemText.attrs,dir:e.context.dir,id:o.getItemLabelId(e.context,r.value),...l(r)})},getItemControlProps(r){const c=a(r);return n.element({...b.itemControl.attrs,dir:e.context.dir,id:o.getItemControlId(e.context,r.value),"data-active":f(c.isActive),"aria-hidden":!0,...l(r)})},getItemHiddenInputProps(r){const c=a(r);return n.input({"data-ownedby":o.getRootId(e.context),id:o.getItemHiddenInputId(e.context,r.value),type:"radio",name:e.context.name||e.context.id,form:e.context.form,value:r.value,onChange(v){c.isDisabled||v.target.checked&&t({type:"SET_VALUE",value:r.value,isTrusted:!0})},onBlur(){t({type:"SET_FOCUSED",value:null})},onFocus(){t({type:"SET_FOCUSED",value:r.value,focused:!0})},onKeyDown(v){v.key===" "&&t({type:"SET_ACTIVE",value:r.value,active:!0})},onKeyUp(v){v.key===" "&&t({type:"SET_ACTIVE",value:null})},disabled:c.isDisabled,defaultChecked:c.isChecked,style:ee})},indicatorProps:n.element({id:o.getIndicatorId(e.context),...b.indicator.attrs,dir:e.context.dir,hidden:e.context.value==null,"data-disabled":f(i),"data-orientation":e.context.orientation,style:{"--transition-property":"left, top, width, height","--left":(p=e.context.indicatorRect)==null?void 0:p.left,"--top":(u=e.context.indicatorRect)==null?void 0:u.top,"--width":(h=e.context.indicatorRect)==null?void 0:h.width,"--height":(k=e.context.indicatorRect)==null?void 0:k.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:e.context.canIndicatorTransition?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[e.context.orientation==="horizontal"?"left":"top"]:e.context.orientation==="horizontal"?"var(--left)":"var(--top)"}})}}var{not:ve}=X;function fe(e){const t=q(e);return U({id:"radio",initial:"idle",context:{value:null,activeId:null,focusedId:null,hoveredId:null,disabled:!1,orientation:"vertical",...t,indicatorRect:{},canIndicatorTransition:!1,fieldsetDisabled:!1},computed:{isDisabled:n=>!!n.disabled||n.fieldsetDisabled},entry:["syncIndicatorRect"],exit:["cleanupObserver"],activities:["trackFormControlState"],watch:{value:["setIndicatorTransition","syncIndicatorRect","syncInputElements"]},on:{SET_VALUE:[{guard:ve("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:"setHovered"},SET_ACTIVE:{actions:"setActive"},SET_FOCUSED:{actions:"setFocused"}},states:{idle:{}}},{guards:{isTrusted:(n,i)=>!!i.isTrusted},activities:{trackFormControlState(n,i,{send:a,initialContext:l}){return te(o.getRootEl(n),{onFieldsetDisabledChange(d){n.fieldsetDisabled=d},onFormReset(){a({type:"SET_VALUE",value:l.value})}})}},actions:{setValue(n,i){me.value(n,i.value)},setHovered(n,i){n.hoveredId=i.value},setActive(n,i){n.activeId=i.value},setFocused(n,i){n.focusedId=i.value},syncInputElements(n){o.getInputEls(n).forEach(a=>{a.checked=a.value===n.value})},setIndicatorTransition(n){n.canIndicatorTransition=j(n.value)},cleanupObserver(n){var i;(i=n.indicatorCleanup)==null||i.call(n)},syncIndicatorRect(n){var l;if((l=n.indicatorCleanup)==null||l.call(n),!o.getIndicatorEl(n))return;const i=n.value,a=o.getActiveRadioEl(n);if(i==null||!a){n.indicatorRect={};return}n.indicatorCleanup=de(a,{getRect(d){return o.getOffsetRect(d)},onChange(d){n.indicatorRect=o.resolveRect(d),G(()=>{n.canIndicatorTransition=!1})}})},dispatchChangeEvent(n){o.getInputEls(n).forEach(a=>{const l=a.value===n.value;l!==a.checked&&ne(a,{checked:l})})}}})}var he={change:e=>{var t;e.value!=null&&((t=e.onValueChange)==null||t.call(e,{value:e.value}))}},me={value:(e,t)=>{z(e.value,t)||(e.value=t,he.change(e))}};w()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","value"]);w()(["value","disabled","invalid"]);var Ie=I("<div>"),be=I("<label><span></span><input><div>");function Ee(e){const[t,n]=K(fe({id:N(),onValueChange:e.onValueChange})),i=W(()=>ge(t,n,J));return(()=>{var a=Ie();return y(a,g(()=>i().rootProps,{get class(){return C({"[data-scope=radio-group][data-part=item]":{display:"inline-flex",gap:".5rem",alignItems:"center",userSelect:"none",cursor:"pointer",marginRight:"8px"},"[data-scope=radio-group][data-part=item-text]":{order:2},"[data-scope=radio-group][data-part=item-control]":{order:1,width:"1.25rem",height:"1.25rem",borderRadius:"9999px",border:"1px solid #cfceca",color:"#fff",padding:"1px"},"[data-scope=radio-group][data-part=item-control][data-state=checked]":{background:"#4090ff",borderColor:"#4090ff",outlineWidth:"4px",outlineColor:"#fff",outlineOffset:"-5px",outlineStyle:"solid"}})}}),!1,!0),E(a,s(Y,{get each(){return e.options},children:l=>(()=>{var d=be(),p=d.firstChild,u=p.nextSibling,h=u.nextSibling;return y(d,g(()=>i().getItemProps({value:l.value})),!1,!0),y(p,g(()=>i().getItemTextProps({value:l.value})),!1,!0),E(p,()=>l.label),y(u,g(()=>i().getItemHiddenInputProps({value:l.value})),!1,!1),y(h,g(()=>i().getItemControlProps({value:l.value})),!1,!1),d})()})),a})()}var ye=I("<div>打开抽屉");function Ce(){const[e,t]=T(!1),[n,i]=T("right");return[s(Ee,{options:[{value:"left",label:"left"},{value:"right",label:"right"},{value:"top",label:"top"},{value:"bottom",label:"bottom"}],onValueChange:a=>i(a.value)}),s(x,{onClick:()=>t(!0),children:"open"}),s(F,{get placement(){return n()},get open(){return e()},title:"标题",onClose:()=>t(!1),get extra(){return s(Z,{get children(){return[s(x,{children:"取消"}),s(x,{type:"primary",children:"确认"})]}})},get children(){return ye()}})]}var xe=I("<div>打开抽屉"),Te=I("<div>");function Re(){const[e,t]=T(!1);return(()=>{var n=Te();return n.style.setProperty("position","relative"),n.style.setProperty("height","150px"),n.style.setProperty("overflow","hidden"),E(n,s(x,{onClick:()=>t(!0),children:"open"}),null),E(n,s(F,{get open(){return e()},appendToBody:!1,onClose:()=>t(!1),get children(){return xe()}}),null),n})()}function D(e){const t=Object.assign({h1:"h1",h2:"h2",p:"p",div:"div"},A(),e.components);return[s(t.h1,{id:"drawer-抽屉",children:"Drawer 抽屉"}),`
`,s(t.h2,{id:"基础用法",children:"基础用法"}),`
`,s(t.p,{children:"点击触发按钮抽屉从右滑出，点击遮罩区关闭。"}),`
`,s(S,{path:"drawer/basic",get code(){return s(Ce,{})},get children(){return s(t.div,{})}}),`
`,s(t.h2,{id:"渲染到当前dom",children:"渲染到当前DOM"}),`
`,s(S,{path:"drawer/body",get code(){return s(Re,{})},get children(){return s(t.div,{})}})]}function Pe(e={}){const{wrapper:t}=Object.assign({},A(),e.components);return t?s(t,g(e,{get children(){return s(D,e)}})):D(e)}export{Pe as default};
